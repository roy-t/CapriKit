<Project>

  <!-- Build settings -->
  <PropertyGroup>
    <TargetFramework>net9.0</TargetFramework>
    <LangVersion>Latest</LangVersion>
    <Platforms>x64</Platforms>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    <ImplicitUsings>enable</ImplicitUsings>
    <Nullable>enable</Nullable>
    <WarningsAsErrors>nullable</WarningsAsErrors>
  </PropertyGroup>  

  <!-- Versioning-->
  <Target Name="ReadVersion" BeforeTargets="BeforeBuild">
    <ReadLinesFromFile File="$(MSBuildThisFileDirectory)version.txt">
      <Output TaskParameter="Lines" ItemName="VersionLines" />
    </ReadLinesFromFile>
    <Message Importance="High"
      Text="Using version %(VersionLines.Identity) from $(MSBuildThisFileDirectory)version.txt for $(MSBuildProjectName)" />
    <PropertyGroup>      
      <Version>%(VersionLines.Identity)</Version>
      <FileVersion>%(VersionLines.Identity)</FileVersion>
      <AssemblyInformationalVersion>%(VersionLines.Identity)</AssemblyInformationalVersion >      
    </PropertyGroup>
  </Target>
  
  <!-- Documentation -->
  <PropertyGroup>
    <GenerateDocumentationFile>true</GenerateDocumentationFile>        
  </PropertyGroup>

  <!-- Outputsettings -->
  <PropertyGroup>
    <MSBuildProjectExtensionsPath>$(MSBuildProjectDirectory)/../../.build/ext/$(MSBuildProjectName)</MSBuildProjectExtensionsPath>
    <IntermediateOutputPath>$(MSBuildProjectDirectory)/../../.build/obj/$(MSBuildProjectName)</IntermediateOutputPath>
    <AppendTargetFrameworkToOutputPath>false</AppendTargetFrameworkToOutputPath>
    <AppendRuntimeIdentifierToOutputPath>false</AppendRuntimeIdentifierToOutputPath>
    <OutputPath>$(MSBuildProjectDirectory)/../../.build/bin/$(MSBuildProjectName)</OutputPath>
  </PropertyGroup>

  <!-- Supressions-->
  <PropertyGroup>
    <!-- 7035: Ignore the MSBuild warning when using the prerelease and build meta data fields in a semantic version -->
    <!-- 1591: When generating documentation, do not require each public property/method/class to have documentation-->
    <NoWarn>7035;1591</NoWarn>
  </PropertyGroup>
  
</Project>
